<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="google-site-verification" content="zrVlHARQzSGPX8n0jKJdP_fCO0AvtLXxoPmYkJh-oXw"/><meta name="description" content="Act local, think global with DotIN13!"><meta name="keywords" content="Linux, QQ for Linux, Deepin-QQ, and Deepin-Wechat"><meta name="theme-color" content="#ff94c2"><meta lang="zh"><link rel="manifest" href="/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-touch-icon.png?v=2bA3g2vyYK"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png?v=2bA3g2vyYK"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png?v=2bA3g2vyYK"><link rel="mask-icon" href="/assets/img/favicon/safari-pinned-tab.svg?v=2bA3g2vyYK" color="#dc2267"><link rel="shortcut icon" href="/assets/img/favicon/favicon.ico?v=2bA3g2vyYK"><meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/img/favicon/browserconfig.xml?v=2bA3g2vyYK"><meta property="og:title" content="在Manjaro中优雅地使用QQ与Wechat - DOTIN13'S BLOG"><meta property="og:type" content="article"><meta property="og:description" content="安装QQ for Linux QQ for Linux已经更新到了2.0.0b2，虽然没有重大的变化，但相比臃肿的Deepin-QQ，我想还是优先推荐这款QQ。 QQ for Linux 2.0.0 Beta2 安装的方法很简单，只需要在archlinux或者AUR源中找到QQ for Linux即可，或者使用命令也能轻松解决。 sudo pacman..."><meta property="article:published_time" content="2020-02-23T15:08:00Z"><meta property="article:author" content="DotIN13"><meta property="article:tag" content="Linux"><meta property="article:tag" content="QQ for Linux"><meta property="article:tag" content="Deepin-QQ"><meta property="article:tag" content="Deepin-Wechat"><meta property="og:image" content="https://www.wannaexpresso.com/assets/img/orange.webp"><meta property="og:url" content="https://www.wannaexpresso.com/2020/02/23/manjaro-qq-wechat/"><meta property="og:site_name" content="DOTIN13'S BLOG"><link rel="canonical" href="https://www.wannaexpresso.com/2020/02/23/manjaro-qq-wechat/"><script src="/assets/public/application-bundle.js"></script><link rel="stylesheet" href="/assets/public/application.css"><script src="/assets/public/posts-bundle.js"></script><title>在Manjaro中优雅地使用QQ与Wechat - DOTIN13'S BLOG</title></head><body><main class="container"><section class="about"><div class="about-header"><div class="about-title"><a href="/" id="avatar" data-caption="DotIN13" data-webpack="true" data-path="/assets/img/orange.webp"></a><h2 id="title"><a href="/">DotIN13</a></h2></div><p class="tagline">LACKAWANNA<br>EXPRESSO</p></div><div class="buttons"><a href="/en-us/" class="language-selection button icon-translate" aria-label="Change locale to English."></a><a href="/feed.xml" class="feed button icon-rss_feed" aria-label="RSS Feed"></a><input type="checkbox" class="dark-mode-toggle" aria-label="dark-mode-switch"><a href="#" aria-label="Click to toggle darkmode." class="button"><span class="icon-moon"></span><span class="icon-sun"></span></a><a href="#" id="pwa-install" class="install button icon-install disabled" aria-label="Install as Web Application"><span>Install</span></a></div><ul class="social condensed"><li><a target="_blank" rel="noreferrer" href="https://github.com/DotIN13" aria-label="GitHub Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://www.facebook.com/peter.zhang.1466" aria-label="Facebook Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-facebook fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://twitter.com/DotIN13" aria-label="Twitter Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://space.bilibili.com/4471331" aria-label="Bilibili Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="icon-bilibili fa-stack-1x fa-inverse"></i></span></a></li></ul><nav class="navigation condensed"><ul><li><a href="/about">About</a></li><li><a href="/archive">Archive</a></li></ul></nav><section class="about-footer condensed"><div><a href="https://icp.gov.moe" rel="noreferrer" target="_blank">Moe ICP </a><a href="https://icp.gov.moe/?keyword=20201620" target="_blank" rel="noreferrer">20201620</a></div><div><a rel="noreferrer" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC-BY-SA 4.0</a></div></section></section><section class="content"><div class="post-container"><a class="post-link" href="/2020/02/23/manjaro-qq-wechat/"><h2 class="post-title">在Manjaro中优雅地使用QQ与Wechat</h2><h3 class="post-subtitle">Using QQ and Wechat in Manjaro</h3></a><div class="post-meta"><div class="post-categories"><a class="button" href="/archive/?tag=Linux" title="Linux">Linux</a><a class="button" href="/archive/?tag=QQ+for+Linux" title="QQ for Linux">QQ for Linux</a><a class="button" href="/archive/?tag=Deepin-QQ" title="Deepin-QQ">Deepin-QQ</a><a class="button" href="/archive/?tag=Deepin-Wechat" title="Deepin-Wechat">Deepin-Wechat</a></div><div class="post-misc"><div class="post-date"><i class="icon-calendar"></i>Feb 23, 2020</div></div></div><div class="post"><h2 id="安装QQ for Linux"><a href="#安装QQ for Linux">#</a> 安装QQ for Linux </h2><p> QQ for Linux已经更新到了2.0.0b2，虽然没有重大的变化，但相比臃肿的Deepin-QQ，我想还是优先推荐这款QQ。</p><div class="post-img"><a href="/assets/img/in-post/post-deepin-qq/qq-for-linux.jpg" data-fancybox="gallery" data-caption="QQ for Linux 2.0.0 Beta2" data-path="post-deepin-qq/qq-for-linux.jpg" data-webpack=true></a><em>QQ for Linux 2.0.0 Beta2</em></div><p> 安装的方法很简单，只需要在archlinux或者AUR源中找到QQ for Linux即可，或者使用命令也能轻松解决。 </p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">sudo </span>pacman <span class="nt">-S</span> qq-linux</code></pre></figure><h3> 扫码闪退的解决 </h3><p> 安装之后，如果linuxQQ扫码闪退，有如下两种解决方案。 </p><p> 方案一：据<a href="https://geekeyes.cn/forum.php?mod=viewthread&tid=1080">244099121同学</a>解释是由于QQ运行并不需要最高权限导致的。 <br> 打开终端，输入<code>sudo nano /usr/share/applications/qq.desktop</code>，修改Exec行为<code>Exec=/opt/tencent-qq/qq %U --no-sandbox</code>。 </p><p> 方案二：也有一种说法是删除<code>~/.config/tencent-qq</code>。 </p><p> 我在尝试了上述两种办法之后解决了扫码后闪退的问题。 </p><h2 id="使用Wechat网页版"><a href="#使用Wechat网页版">#</a> 使用Wechat网页版 </h2><p> 同理，Deepin-Wechat显得非常臃肿，可能存在各种bug，在此仍然推荐<a href="https://wx.qq.com/">Wechat网页版</a>。目前文件、图片等功能完善，除截屏外都能够正常使用。 </p><p><div class="post-img"><a href="/assets/img/in-post/post-deepin-qq/web-wechat.jpg" data-fancybox="gallery" data-caption="Web Wechat" data-path="post-deepin-qq/web-wechat.jpg" data-webpack=true></a><em>Web Wechat</em></div></p><h2 id="Deepin-QQ与Deepin-Wechat"><a href="#Deepin-QQ与Deepin-Wechat">#</a> Deepin-QQ与Deepin-Wechat </h2><p> 如果你执意需要完整的QQ、Wechat体验，可以安装Deepin应用，在Manjaro中，由于有AUR源、Archlinuxcn源的加持，安装过程是非常方便的。 </p><p> 安装微信，只需在AUR中找到并安装<code>deepin-wine-wechat</code>；安装QQ，只需在AUR中找到并安装<code>deepin-wine-tim</code>或者<code>deepin-wine-qq</code>即可。 </p><p> 安装软件包后，打开软件，按照提示完成进一步的安装配置之后就可使用。 </p><h3 id="调整界面DPI"><a href="#调整界面DPI">#</a> 调整界面DPI </h2><p> 打开界面发现字体过小，此时需要进入<code>winecfg</code>调整软件的DPI </p><div class="post-img"><a href="/assets/img/in-post/post-deepin-qq/screenshot-1-orig.png" data-fancybox="gallery" data-caption="Wine QQ Configuration" data-path="post-deepin-qq/screenshot-1-orig.png" data-webpack=true></a><em>Wine QQ Configuration</em></div><p> 首先完全退出QQ与Wechat。<br>在Terminal输入命令 <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">env </span><span class="nv">WINEPREFIX</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.deepinwine/Deepin-TIM"</span> winecfg <span class="c">#修改TIM的DPI</span>
<span class="nb">env </span><span class="nv">WINEPREFIX</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.deepinwine/Deepin-QQ"</span> winecfg <span class="c">#修改QQ的DPI</span>
<span class="nb">env </span><span class="nv">WINEPREFIX</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.deepinwine/Deepin-Wechat"</span> winecfg <span class="c">#修改Wechat的DPI</span></code></pre></figure> 此处建议将DPI设定在120左右，具体请自行调试。 </p><p> 如果使用的是基于deepin-wine的deepin.com.qq.im或者deepin.com.qq.office，则应使用 <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nv">WINEPREFIX</span><span class="o">=</span>~/.deepinwine/Deepin-QQ deepin-wine winecfg <span class="c">#修改QQ的DPI</span>
<span class="nv">WINEPREFIX</span><span class="o">=</span>~/.deepinwine/Deepin-TIM deepin-wine winecfg <span class="c">#修改TIM的DPI</span></code></pre></figure> 来调整DPI。 </p><h3 id="解决Deepin-QQ无法显示图片"><a href="#解决Deepin-QQ无法显示图片">#</a> 解决Deepin-QQ无法显示图片 </h2><p> 如遇到聊天图片与头像无法显示，或者始终处于加载中，是因为QQ的图片解析与ipv6不兼容，需要关闭ipv6。 </p><p> 在系统终端中运行命令： <figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">sudo </span>sysctl <span class="nt">-w</span> net.ipv6.conf.all.disable_ipv6<span class="o">=</span>1
<span class="nb">sudo </span>sysctl <span class="nt">-w</span> net.ipv6.conf.default.disable_ipv6<span class="o">=</span>1
<span class="nb">sudo </span>sysctl <span class="nt">-w</span> net.ipv6.conf.lo.disable_ipv6<span class="o">=</span>1</code></pre></figure> 注：以上命令在深度Deepin Linux系统下有效，其他Linux发行版可参考。 </p></div><ul class="post-pager"><li class="pager--next"><a class="button" href="/2020/02/23/manjaro-aria2ng/" data-toggle="tooltip" data-placement="top" title="在Manjaro中优雅地使用Aria2NG"> NEXT<br><span>在Manjaro中优雅地使用Aria2NG</span></a></li><li class="pager--prev"><a class="button" href="/2020/02/23/linux-auto-mount/" data-toggle="tooltip" data-placement="top" title="Linux开机自动挂载分区"> PREV<br><span>Linux开机自动挂载分区</span></a></li></ul><div id="vcomments"></div></div></section><footer class="about condensed"><ul class="social condensed"><li><a target="_blank" rel="noreferrer" href="https://github.com/DotIN13" aria-label="GitHub Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://www.facebook.com/peter.zhang.1466" aria-label="Facebook Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-facebook fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://twitter.com/DotIN13" aria-label="Twitter Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://space.bilibili.com/4471331" aria-label="Bilibili Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="icon-bilibili fa-stack-1x fa-inverse"></i></span></a></li></ul><nav class="navigation condensed"><ul><li><a href="/about">About</a></li><li><a href="/archive">Archive</a></li></ul></nav><section class="about-footer condensed"><div><a href="https://icp.gov.moe" rel="noreferrer" target="_blank">Moe ICP </a><a href="https://icp.gov.moe/?keyword=20201620" target="_blank" rel="noreferrer">20201620</a></div><div><a rel="noreferrer" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC-BY-SA 4.0</a></div></section></footer></main><script async src="https://www.googletagmanager.com/gtag/js?id=UA-159368053-1"></script><script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-159368053-1');
    </script></body></html>