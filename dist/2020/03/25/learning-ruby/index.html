<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="google-site-verification" content="zrVlHARQzSGPX8n0jKJdP_fCO0AvtLXxoPmYkJh-oXw"/><meta name="description" content="Act local, think global with DotIN13!"><meta name="keywords" content="Programming Language, Linux, and Ruby"><meta name="theme-color" content="#ff94c2"><meta lang="zh"><link rel="manifest" href="/manifest.json"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-touch-icon.png?v=2bA3g2vyYK"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png?v=2bA3g2vyYK"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png?v=2bA3g2vyYK"><link rel="mask-icon" href="/assets/img/favicon/safari-pinned-tab.svg?v=2bA3g2vyYK" color="#dc2267"><link rel="shortcut icon" href="/assets/img/favicon/favicon.ico?v=2bA3g2vyYK"><meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/img/favicon/browserconfig.xml?v=2bA3g2vyYK"><meta property="og:title" content="Ruby学习心得 - DOTIN13'S BLOG"><meta property="og:type" content="article"><meta property="og:description" content="Why Ruby 为什么要学习Ruby？在茫茫多的后端语言中，为什么要选择接触陌生的Ruby？事实上，我第一次接触Ruby还是在搭建这个Jekyll的时候，gem需要换源，从Blogger迁移到Jekyll需要一条四行的复杂代码，第一印象事实上并不怎么样。但当我遍览后端语言，似乎没有任何一款能够入我的法眼。 C语言和C++是我所学过的语言，让我感到困难之处其一在于数组大小预先设定，其二在..."><meta property="article:published_time" content="2020-03-25T00:00:00Z"><meta property="article:author" content="DotIN13"><meta property="article:tag" content="Programming Language"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Ruby"><meta property="og:image" content="https://www.wannaexpresso.com/assets/img/orange.webp"><meta property="og:url" content="https://www.wannaexpresso.com/2020/03/25/learning-ruby/"><meta property="og:site_name" content="DOTIN13'S BLOG"><link rel="canonical" href="https://www.wannaexpresso.com/2020/03/25/learning-ruby/"><script src="/assets/public/application-bundle.js"></script><link rel="stylesheet" href="/assets/public/application.css"><script src="/assets/public/posts-bundle.js"></script><title>Ruby学习心得 - DOTIN13'S BLOG</title></head><body><main class="container"><section class="about"><div class="about-header"><div class="about-title"><a href="/" id="avatar" data-caption="DotIN13" data-webpack="true" data-path="/assets/img/orange.webp"></a><h2 id="title"><a href="/">DotIN13</a></h2></div><p class="tagline">LACKAWANNA<br>EXPRESSO</p></div><div class="buttons"><a href="/en-us/" class="language-selection button icon-translate" aria-label="Change locale to English."></a><a href="/feed.xml" class="feed button icon-rss_feed" aria-label="RSS Feed"></a><input type="checkbox" class="dark-mode-toggle" aria-label="dark-mode-switch"><a href="#" aria-label="Click to toggle darkmode." class="button"><span class="icon-moon"></span><span class="icon-sun"></span></a><a href="#" id="pwa-install" class="install button icon-install disabled" aria-label="Install as Web Application"><span>Install</span></a></div><ul class="social condensed"><li><a target="_blank" rel="noreferrer" href="https://github.com/DotIN13" aria-label="GitHub Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://www.facebook.com/peter.zhang.1466" aria-label="Facebook Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-facebook fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://twitter.com/DotIN13" aria-label="Twitter Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://space.bilibili.com/4471331" aria-label="Bilibili Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="icon-bilibili fa-stack-1x fa-inverse"></i></span></a></li></ul><nav class="navigation condensed"><ul><li><a href="/about">About</a></li><li><a href="/archive">Archive</a></li></ul></nav><section class="about-footer condensed"><div><a href="https://icp.gov.moe" rel="noreferrer" target="_blank">Moe ICP </a><a href="https://icp.gov.moe/?keyword=20201620" target="_blank" rel="noreferrer">20201620</a></div><div><a rel="noreferrer" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC-BY-SA 4.0</a></div></section></section><section class="content"><div class="post-container"><a class="post-link" href="/2020/03/25/learning-ruby/"><h2 class="post-title">Ruby学习心得</h2><h3 class="post-subtitle">Learning Ruby</h3></a><div class="post-meta"><div class="post-categories"><a class="button" href="/archive/?tag=Programming+Language" title="Programming Language">Programming Language</a><a class="button" href="/archive/?tag=Linux" title="Linux">Linux</a><a class="button" href="/archive/?tag=Ruby" title="Ruby">Ruby</a></div><div class="post-misc"><div class="post-date"><i class="icon-calendar"></i>Mar 25, 2020</div></div></div><div class="post"><h2 id="why-ruby"><a href="#why-ruby">#</a> Why Ruby </h2><p>为什么要学习Ruby？在茫茫多的后端语言中，为什么要选择接触陌生的Ruby？事实上，我第一次接触Ruby还是在搭建这个Jekyll的时候，gem需要换源，从Blogger迁移到Jekyll需要一条四行的复杂代码，第一印象事实上并不怎么样。但当我遍览后端语言，似乎没有任何一款能够入我的法眼。</p><p>C语言和C++是我所学过的语言，让我感到困难之处其一在于数组大小预先设定，其二在于最终都没有搞清楚<code class="language-plaintext highlighter-rouge">namespace</code>的机制。而对于Java，我了解到即便是要写一个输出<code class="language-plaintext highlighter-rouge">Hello World</code>都需要定义类，写整整三行的代码。再谈到Python，有些人提到其泛用的框架年久失修。于是，我又回到了Ruby上，有许多评论都称其为一款“优雅”的语言，倡导用更少的代码完成更多的事情。我想，这也许就是我作为一个代码初学者所需要的吧。于是，我开始了与Ruby之间的结缘。</p><h2 id="ruby-as-a-vivid-language"><a href="#ruby-as-a-vivid-language">#</a> Ruby as A Vivid Language </h2><p>我选择的教材，一如既往地，是Head First系列。这一系列非常生动易懂，很适合像我这样的三脚猫。</p><p>在学习了数章之后，Ruby完全打破了我此前对其的印象，我发现这是一个致力于Simplify Everything的编程语言。他是一款Object+Method化晚期的语言，任何东西都可以是Object，无论是String，还是Number，还是Array，这倒也是与我此前学习的Javascript有一些异曲同工之妙。</p><p>另一个有趣之处在于，Ruby的Methods都采用了非常容易理解、容易记忆的名字，比如<code class="language-plaintext highlighter-rouge">:include?</code>就是判断是否包含字符串，<code class="language-plaintext highlighter-rouge">:even?</code>就是判断数字是否为偶数，一个个小问号特别有活力。</p><p>Ruby还有很多方便之处，比如调用Methods不需要括号，分割语句不需要分号，代码块不需要大括号，定义变量不需要类型，等等。如果说C语言像是一个胡子拉渣的中年人，Ruby就是一个活泼开朗的男孩。他简单，开明，便捷，易于使用，确实可以说是一款Programmer-friendly的语言。</p><h2 id="problems"><a href="#problems">#</a> Problems? </h2><p>当然，完美本身就是不存在的。Ruby的学习还是让我产生了很多的问题。</p><h3 id="强行object-oriented"><a href="#强行object-oriented">#</a> 强行Object Oriented </h3><p>在编写Javascript的时候，我就发现自己编写的脚本与其他程序员的作品有相当的差距，当我写出的代码是这个架构的时候：</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">b</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="nx">a</span><span class="p">();</span>
<span class="nx">b</span><span class="p">();</span>
</code></pre></div></div><p>有一些资深的程序员是这么写的：</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">tool</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">a</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">...</span>
    <span class="p">}</span>

    <span class="nl">b</span><span class="p">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">tool</span><span class="p">.</span><span class="nx">a</span><span class="p">();</span>
<span class="nx">tool</span><span class="p">.</span><span class="nx">b</span><span class="p">();</span>
</code></pre></div></div><p>我到目前为止还不知道应该怎样平衡Object-oriented与Function-oriented这两种处理代码的方式。有一些代码用Object来写逻辑性非常强，让我一见倾心，但也有程序员也告诉我并不一定要遵循这样的书写。面对Ruby这一同样非常强调Object的语言，我仍然有些迷茫。</p><h3 id="混乱的variables"><a href="#混乱的variables">#</a> 混乱的Variables </h3><p>Ruby的变量有四类：<code class="language-plaintext highlighter-rouge">local variable</code>, <code class="language-plaintext highlighter-rouge">global variable</code>, <code class="language-plaintext highlighter-rouge">class variable</code>, <code class="language-plaintext highlighter-rouge">instance variable</code>，他们四者的scope都不同。而我的问题聚焦于<code class="language-plaintext highlighter-rouge">instance variable</code>，在class定义的过程中，我发现，Ruby为了方便，使用变量，允许代码中使用<code class="language-plaintext highlighter-rouge">variable</code>来代指<code class="language-plaintext highlighter-rouge">self.variable</code>，进而调用<code class="language-plaintext highlighter-rouge">variable</code>与<code class="language-plaintext highlighter-rouge">variable=</code>方法，以做到写入与读取<code class="language-plaintext highlighter-rouge">@variable</code>类变量。</p><p>这一本来应当方便使用class的设置却给代码书写带来了新的麻烦：</p><div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Example</span>
    <span class="nb">attr_accessor</span> <span class="ss">:variable</span>
    
    <span class="k">def</span> <span class="nf">process</span>
        <span class="n">variable</span> <span class="o">=</span> <span class="o">-</span> <span class="n">variable</span>
        <span class="n">variable</span>
    <span class="k">end</span>
<span class="k">end</span>

<span class="n">instance</span> <span class="o">=</span> <span class="no">Example</span><span class="p">.</span><span class="nf">new</span>
<span class="n">instance</span><span class="p">.</span><span class="nf">variable</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">instance</span><span class="p">.</span><span class="nf">process</span>
</code></pre></div></div><p>在这个代码实例中，似乎<code class="language-plaintext highlighter-rouge">Class.process</code>能够得到-1的返回值，但事实上你会得到错误：</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NoMethodError (undefined method `-@' for nil:NilClass)
</code></pre></div></div><p>其中原委，不得而知，当将<code class="language-plaintext highlighter-rouge">variable = - variable</code>修改为<code class="language-plaintext highlighter-rouge">@variable = - variable</code>时，程序就又能正常运行了。</p><blockquote><p>2020/04/07 EDIT: 阅读《The Ruby on Rails Tutorial 6th Ed.》第219页，”In fact, inside the String class the use of self. is optional on a method or attribute (unless we’re making an assignment)”。也就是说，在给Instance Variable赋值时，Ruby不会自动为变量加上<code class="language-plaintext highlighter-rouge">self.</code>，导致变量被识别为<code class="language-plaintext highlighter-rouge">nil</code>，因此，还是乖乖地在赋值时加上<code class="language-plaintext highlighter-rouge">self.</code>或者<code class="language-plaintext highlighter-rouge">@</code>吧。</p></blockquote><p>这一问题，还需要进一步的学习来解决。但就Ruby本身来说，这也是其好心却添了乱的一种表现。</p><h2 id="总结"><a href="#总结">#</a> 总结 </h2><p>Ruby作为一款编程语言，的确，他有他自己的一些问题，需要我们深入地学习才有可能化解，但从这门语言的各个方面来看，他的确是在处处为程序员书写代码的便利考虑。如果说要选出我所接触的最人性化的语言，那非Ruby莫属（这句话事实上并没有什么分量，因为加上HTML我才刚刚接触了五种编程语言）。但无论如何，我认为我还会继续学习Ruby，并且进一步探索Ruby on Rails，总有一天，能真正地学会如何造轮子。</p></div><ul class="post-pager"><li class="pager--next"><a class="button" href="/2020/03/26/fcitx5/" data-toggle="tooltip" data-placement="top" title="在Manjaro上优雅地使用Fcitx5"> NEXT<br><span>在Manjaro上优雅地使用Fcitx5</span></a></li><li class="pager--prev"><a class="button" href="/en-us/2020/03/15/stupid-love/" data-toggle="tooltip" data-placement="top" title="Lady Gaga - Stupid Love"> PREV<br><span>Lady Gaga - Stupid Love</span></a></li></ul><div id="vcomments"></div></div></section><footer class="about condensed"><ul class="social condensed"><li><a target="_blank" rel="noreferrer" href="https://github.com/DotIN13" aria-label="GitHub Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://www.facebook.com/peter.zhang.1466" aria-label="Facebook Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-facebook fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://twitter.com/DotIN13" aria-label="Twitter Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="fab icon-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" rel="noreferrer" href="https://space.bilibili.com/4471331" aria-label="Bilibili Social Link"><span class="fa-stack fa-2x"><i class="fas icon-circle fa-stack-2x"></i><i class="icon-bilibili fa-stack-1x fa-inverse"></i></span></a></li></ul><nav class="navigation condensed"><ul><li><a href="/about">About</a></li><li><a href="/archive">Archive</a></li></ul></nav><section class="about-footer condensed"><div><a href="https://icp.gov.moe" rel="noreferrer" target="_blank">Moe ICP </a><a href="https://icp.gov.moe/?keyword=20201620" target="_blank" rel="noreferrer">20201620</a></div><div><a rel="noreferrer" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC-BY-SA 4.0</a></div></section></footer></main><script async src="https://www.googletagmanager.com/gtag/js?id=UA-159368053-1"></script><script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-159368053-1');
    </script></body></html>