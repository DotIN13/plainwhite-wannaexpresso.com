body.dark {
  background-color: $dark-800;
  --text-color: #{$darkTextColor};
  --background: #{$dark-800};
  --button-background: #{$dark-700};
  --button-text-color: #{$darkTextColor};
  --button-hover-text-color: #{$darkTextColor};
  --button-hover-background: #{$darkLinkColor};
  // Links
  --link-text-color: #{$darkLinkColor};
  --link-hover-color: #{$pinky};
  // Menu item
  --menu-text-color: #{$darkTextColor};
  --menu-hover-color: #a7a7a7;
  --menu-action-color: #7d7d7d;
  --mood-border-color: #343333;
}

.dark main {
  background-color: var(--background);

  p,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--text-color);
  }

  .about {
    --ripple-color: #212121;
  }

  .about .sidebar__footer a,
  .about .tagline {
    --link-hover-color: #666;
    @include link-hover();
  }

  .about #pwa-install {
    background-color: $dark-700;
    color: #df93e8;

    &.disabled {
      color: #888;
      background-color: #333;
    }

    &.expand {
      background-color: $violet;
      color: white;
    }
  }

  .post-content,
  .post-content p {
    color: #ddd;
  }

  .post-date {
    color: rgb(175, 172, 172);
  }

  .post-content {
    --link-text-color: #cf6ae1;
    --link-hover-color: #e491f3;
  }

  .social {
    .icon-circle {
      color: $dark-700;
      transition: color 0.3s;
    }

    a:hover .icon-circle {
      color: $darkLinkColor;
    }
  }

  /* Sidebar */
  .sidebar__container {
    --background: #{$dark-750};
  }

  .sidebar {
    .sidebar__item .sidebar__item-link {
      color: $darkTextColor;
      @include link-hover();
    }
  }

  /* Code highlighting */
  @import "ext/solarized-dark";

  .highlight,
  .highlight * {
    background-color: #00080a;
    color: #93a1a1;
  }

  div.highlight-dark {
    padding: 5px 20px;
  }

  pre.highlight-dark,
  code {
    font-family: "Consolas", Menlo, monospace;
    line-height: 1.4em;
    tab-size: 4;
  }

  /* Tag pills */
  .post-tags {
    .tag {
      background-color: $dark-700;
      color: white;
    }
  }

  .navigation a {
    color: $darkTextColor;
    @include link-hover();
  }

  /* Post header hovering */
  .post-item {
    .post-header {
      color: white;

      .post-title,
      .post-subtitle {
        color: inherit;
      }
    }

    &:hover .post-header {
      color: $darkLinkColor;
    }
  }

  #title a {
    color: white;
    @include link-hover();
  }

  .post-pager li a {
    span {
      color: #929298;
    }

    &:hover span {
      color: $darkTextColor;
    }
  }

  /* Labelgroup */

  .labelgroup {
    .posts-label__search-icon::before {
      color: white;
    }

    .search__results {
      color: $darkTextColor;
      background-color: $dark-700;

      a {
        color: $darkTextColor;
        transition: none;

        &:hover {
          background-color: $champagne;

          &::before {
            color: $darkTextColor;
          }
        }
      }
    }

    input {
      background-color: transparent;
    }
  }

  .labelgroup:hover {
    input {
      color: white;
    }
  }

  .labelgroup.focus-within {
    input {
      color: $darkTextColor;
      background-color: $dark-700;
    }
  }

  /* Archive tagcloud */
  #tag-cloud .tag-button,
  #show-tags {
    --link-hover-color: #{$darkTextColor};
    background-color: $dark-700;
    color: $darkTextColor;
    @include link-hover();

    &:hover,
    &:active,
    &.focus {
      color: white;
      background-color: $darkLinkColor;
    }
  }

  .tag-text {
    color: #ddd;
  }

  .mini-post-list .post-item {
    border-bottom: 1px solid $dark-200;
  }

  /* Table */

  table {
    th,
    td {
      border: 1px solid $dark-700;
    }

    th {
      background-color: #0d0d0d;
    }

    tr:nth-child(2n),
    thead {
      background-color: $dark-750;
    }
  }

  // Select
  select {
    background: $dark-800;
  }

  #vcomments.v {
    color: $darkTextColor;
  }

  // Valine
  #vcomments.v .vwrap {
    border: 2px solid $dark-200;

    .vheader .vinput {
      border-bottom: 1px solid $dark-700;

      &:hover,
      &:focus {
        border-bottom: 1px solid $pinky;
      }
    }
  }

  // Gothic Blockquote
  blockquote.g_bq {
    color: $lightGrey;
  }

  /* Talkroom */
  .talk-container {
    --talk-background: #{$dark-700};
    --talk-avatar-border-color: #55555575;
  }

  .talk__action::before {
    color: #e3e3e3;
  }

  .talk__action[disabled] .stack-layer {
    color: rgba(255 255 255 /0.36);
  }

  .talk__config {
    --background: #{$dark-700};
    --input-border-color: #818181;
    --input-label-color: #{$dark-700};
  }

  .talk__config-submit {
    --button-background: #{$dark-400};
  }

  .talk__qrcode {
    background: $dark-750;

    &:hover {
      background: rgb(127 127 127 /0.15);
    }

    canvas {
      filter: invert(1);
    }
  }

  /* Muted Text */
  .muted-text {
    color: #d3d3d3;
  }
}

body.dark {
  /* Toast */
  #portal .portal__container--toast .toast {
    color: white;
    background: #403f3f;

    [data-action="update-sw"] {
      color: #df81ef;
    }
  }
}
