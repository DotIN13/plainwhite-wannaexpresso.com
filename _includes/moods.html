<section class="mood-section" data-controller="moods" data-moods-index-value="0">
  {% include posts-label.html type='moods' search=false %}
  <ul class="mood-track" data-moods-target="track" data-action="scroll->moods#handleScroll">
    {% assign sorted_moods = site.moods | sort: 'date' | reverse | limit: 8 %}
    {% for mood in sorted_moods %}
    {% capture _ %}{% increment mood_index %}{% endcapture %}
    {% if mood_index > 3 %}{% assign loading="lazy" %}{% else %}{% assign loading="eager" %}{% endif %}
    <li class="mood" href="#" data-controller="portal" data-moods-target="item" data-portal-image-background-value data-action="click->portal#port" data-portal-target="template">
      {% include mood.html mood=mood loading=loading %}
    </li>
    {% endfor %}
    <li class="mood--placeholder">.</li>
  </ul>
  <button aria-label="previous mood item" class="mood-button--prev mood-button hide" data-moods-target="buttonPrev" data-action="moods#prev">
    <div class="mood-arrow--prev mood-arrow"></div>
  </button>
  <button aria-label="next mood item" class="mood-button--next mood-button" data-moods-target="buttonNext" data-action="moods#next">
    <div class="mood-arrow--next mood-arrow"></div>
  </button>
</section>